
namespace = mhf_events

# Adolf Hitler 등장 이벤트 예시
mhf_events.1 = {
    type = country_event
    placement = root

    gui_window = event_window_1char_tabloid
    left_icon = scope:hitler_scope

    on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
    on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

    icon = "gfx/interface/icons/event_icons/event_scales.dds"

    title = mhf_events.1.t
    desc = mhf_events.1.d
    flavor = mhf_events.1.f

    duration = 3

	trigger = {
		NOT = { has_variable = mhf_events_1_fired }
		# 예시 트리거: 1923년 11월 8일 이후, 독일, agitator 슬롯 1개 이상
		game_date >= 1923.11.8
		OR = {
			c:GER ?= this
			c:PRU ?= this
		}
		empty_agitator_slots >= 1
	}

    immediate = {
        # 아돌프 히틀러 agitator 생성 및 스코프 부여
		   set_variable = mhf_events_1_fired
        create_character = {
            template = adolf_hitler_character_template
			on_created = {
				place_character_in_void = 3
				add_character_role = politician
				set_variable = hitler_var
			}
            save_scope_as = hitler_scope
        }
		random_character_in_void = {
			limit = {
				has_variable = hitler_var
			}
			save_scope_as = hitler_scope
		}
    }
    option = {
		name = mhf_events.1.a
		default_option = yes
		ai_chance = {
			base = 75
		}
        # 히틀러가 소시민(ig_petty_bourgeoisie) 지도자가 됨
		scope:hitler_scope = {
			free_character_from_void = yes
			set_as_interest_group_leader = yes
    }}
    option = {
		name = mhf_events.1.b
		ai_chance = {
			base = 25
		}
		scope:hitler_scope = {
			kill_character = yes
		}
    }
}

	# 수권법 제정 이벤트
mhf_events.2 = {
		type = country_event
		placement = root

		event_image = {
			video = "unspecific_politicians_arguing"
		}
		on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
		on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

		icon = "gfx/interface/icons/event_icons/event_scales.dds"

		title = mhf_events.2.t
		desc = mhf_events.2.d
		flavor = mhf_events.2.f

		duration = 3

		trigger = {
			NOT = { has_variable = mhf_events_2_fired }
			ig:ig_petty_bourgeoisie ?={
				leader = {
					has_variable = hitler_var
				}
			}
			game_date >= 1933.3.23
			OR = {
				c:GER ?= this
				c:PRU ?= this
			}
			
		}

		immediate = {
			set_variable = mhf_events_2_fired
			root = {
				save_scope_as = country_scope
			}

			random_scope_character = {
				limit = {
					has_variable = hitler_var
				}
				save_scope_as = hitler_scope
			}
		}

		option = {
			
			name = mhf_events.2.a
			default_option = yes
			ai_chance = { base = 80 }
			scope:country_scope = {
				activate_law = law_type:law_corporate_state
				activate_law = law_type:law_single_party_state	
			}
			add_modifier = {
				name = hitler_legitimacy_boost
				days = 3650
				is_decaying = yes
					}
			ig:ig_petty_bourgeoisie ?={
				add_modifier = {
					name = pb_pol_bonus
					days = 3650
					is_decaying = yes
					}
				}

			scope:hitler_scope = {
				set_character_as_ruler = yes
			}
		}
		option = {
			name = mhf_events.2.b
			ai_chance = { base = 20 }
			
			ig:ig_petty_bourgeoisie ?={
				add_modifier = {
					name = failed_power_grab_petty_bourgeoisie
					days = 3650
					is_decaying = yes
					}
				}
		}
	}

	mhf_events.3 = {
	type = country_event
	placement = root

	event_image = {
		video = "ep1_transfer_of_authority"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_scales.dds"

	title = mhf_events.3.t
	desc = mhf_events.3.d

	duration = 3

	trigger = {
		game_date >= 1933.1.30
		NOT = { has_variable = mhf_events_3_fired }
		OR = {
			c:GER ?= this
			c:PRU ?= this
		}
		ig:ig_petty_bourgeoisie ?={
			leader = {
				has_variable = hitler_var
			}
		}
		exists = c:AUS
	}

	immediate = {
		set_variable = mhf_events_3_fired
		root = {
			save_scope_as = country_scope
		}
		c:AUS = {
			save_scope_as = austria_scope
		}
		random_scope_character = {
			limit = {
				has_variable = hitler_var
			}
			save_scope_as = hitler_scope
		}
	}

	option = {
		name = mhf_events.3.a
		default_option = yes
		ai_chance = { base = 20 }
		
			random_list = {
				60 ={
					root = {
						annex = c:AUS
					}
				}
				40= {
					root = {
						change_relations = {
							country = c:AUS
							value = -100
						}
					}
					s:STATE_BOHEMIA = {
						add_claim = ROOT
					}
					s:STATE_AUSTRIA = {
						add_claim = ROOT
					}
					s:STATE_STYRIA = {
						add_claim = ROOT
					}
					s:STATE_MORAVIA = {
						add_claim = ROOT
					}
					s:STATE_TYROL = {
						add_claim = ROOT
					}
				}
			}
	}

	option = {
		name = mhf_events.3.b
		ai_chance = { base = 80 }
		add_radicals = {
			culture = cu:south_german
			culture = cu:north_german
			value = {
				add=huge_radicals
			}
		}
	}

	
}

mhf_events.4 = {
	type = country_event
	placement = root

	event_image = {
		video = "votp_monarch_holding_court"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_B"

	icon = "gfx/interface/icons/event_icons/event_scales.dds"

	title = mhf_events.4.t
	desc = mhf_events.4.d

	duration = 3
	trigger = {
		c:GBR ?= this
			c:USA = {
				relations:root > 30 
			}
		
	}

	immediate = {
		root = {
			save_scope_as = uk_scope
		c:USA = {
			save_scope_as = usa_scope
		}
		c:MEX = {
			save_scope_as = mexico_scope
		}
	}
	}

	option = { #usa annex
		name = mhf_events.4.a
		ai_chance = { base = 0 }
		root = {
			annex = c:USA
		}
	}

	option = { #usa ally
		name = mhf_events.4.b
		custom_tooltip = mhf_events.4.b.d
		default_option = yes
		ai_chance = { base = 20 }
		create_treaty = {
			name = treaty_name_us_uk
			
				first_country = c:USA
				second_country = c:GBR

				is_draft = no 
				entered_into_force_on = 1815.10.15
				binding_period = { years = 10} 
				articles_to_create = {
					{
					article =  alliance
					}
				}
			}
		
			
		}
	
	option = { #usa neutral
		name = mhf_events.4.c
		ai_chance = { base = 80 }
	}
}
mhf_events.5 = {
	type = country_event
	placement = root

	event_image = {
		video = "ep1_power_blocs"
	}

	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_scales.dds"

	title = mhf_events.5.t
	desc = mhf_events.5.d
	flavor = mhf_events.5.f

	duration = 3

	trigger = {
		c:GBR ?= this
		game_date >= 1836.1.1
		root = {
			ruler ?= {
				has_template = gbr_queen_victoria_template
			}
		}
		NOT = { has_variable = mhf_events_5_fired }
	}

	immediate = {
		ruler = {
			save_scope_as = victoria_scope
		}
		c:GBR = {
			save_scope_as = uk_scope
		}
		set_variable = mhf_events_5_fired
	}

	option = {
		name = mhf_events.5.a
		custom_tooltip = mhf_events.5.a.d
		default_option = yes
		ai_chance = { base = 5 }
		set_global_variable= {
			name = federation_support
			value =0
		}
		add_global_variable= {
			name = federation_support
			add =2 
		}
		trigger_event = { 
			id = mhf_events.6
			days=7
		}
		trigger_event = { 
			id = mhf_events.7
			days=14
		}
		trigger_event = { 
			id = mhf_events.8
			days=21
		}
		trigger_event = { 
			id = mhf_events.9
			days=28
		}
		trigger_event = { 
			id = mhf_events.10
			days=35
		}
		# 옵션 효과 작성
	}

	option = {
		name = mhf_events.5.b
		custom_tooltip = mhf_events.5.b.d
		ai_chance = { base = 95 }
		add_loyalists = {
			culture = cu:british
			value = {
				add = very_large_radicals
			}
		}
	}
}

mhf_events.6 = {
	type = country_event
	placement = root

	title = mhf_events.5_1.t
	desc = mhf_events.5_1.d

	event_image = {
		video = "ep1_printing_press"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_scales.dds"


	duration = 1
	immediate = {
		c:GBR = {
			save_scope_as = uk_scope
		}
	}

	option = {
		name = mhf_events.5_1.a
		custom_tooltip = mhf_events.5_1_a_d
		default_option = yes
		ai_chance = { base = 50 }
		# 옵션 효과 작성
		change_global_variable= {
			name = federation_support
			add = 2
		}
		scope:uk_scope = {
           add_modifier = {
			   name = heavy_debt_fed
			   days = 3650
		}}
	}
	option = {
		name = mhf_events.5_1.b
		custom_tooltip = mhf_events.5_1_b_d
		ai_chance = { base = 50 }
		# 옵션 효과 작성
		change_global_variable ={
			name = federation_support
			add = 1
		}
		scope:uk_scope = {
           add_modifier = {
			   name = light_debt_fed
			   days = 3650
		}}
	}
	option = {
		name = mhf_events.5_1.c
		custom_tooltip = mhf_events.5_1_c_d
		ai_chance = { base = 0 }
		# 옵션 효과 작성
		scope:uk_scope = {

		}
	}
}

mhf_events.7 = {
	type = country_event
	placement = root

	title = mhf_events.5_2.t
	desc = mhf_events.5_2.d

	event_image = {
		video = "ip2_india_urban_scene"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_scales.dds"


	duration = 1
	immediate = {
		c:GBR = {
			save_scope_as = uk_scope
		}
	}

	option = {
		name = mhf_events.5_2.a
		custom_tooltip = mhf_events.5_2_a_d
		default_option = yes
		ai_chance = { base = 50 }
		# 옵션 효과 작성
		change_global_variable= {
			name = federation_support
			add = 2
		}
		scope:uk_scope = {
           add_modifier = {
			   name = heavy_bureaucracy_fed
			   days = 3650
		}}
	}
	option = {
		name = mhf_events.5_2.b
		custom_tooltip = mhf_events.5_2_b_d
		ai_chance = { base = 50 }
		# 옵션 효과 작성
		add_global_variable ={
			name = federation_support
			add = 1
		}
		scope:uk_scope = {
           add_modifier = {
			   name = light_bureaucracy_fed
			   days = 3650
		}}
	}
	option = {
		name = mhf_events.5_2.c
		custom_tooltip = mhf_events.5_2_c_d
		ai_chance = { base = 0 }
		# 옵션 효과 작성
		add_global_variable ={
			name = federation_support
			value = 0
		}
		scope:uk_scope = {

		}
	}
}
mhf_events.8 = {
	type = country_event
	placement = root

	title = mhf_events.5_3.t
	desc = mhf_events.5_3.d

	event_image = {
		video = "unspecific_signed_contract"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_scales.dds"


	duration = 1
	immediate = {
		c:GBR = {
			save_scope_as = uk_scope
		}
	}

	option = {
		name = mhf_events.5_3.a
		custom_tooltip = mhf_events.5_3_a_d
		default_option = yes
		ai_chance = { base = 50 }
		# 옵션 효과 작성
		change_global_variable= {
			name = federation_support
			add = 2
		}
		scope:uk_scope = {
           add_modifier = {
			   name = heavy_diplomacy_fed
			   days = 3650
		}}
	}
	option = {
		name = mhf_events.5_3.b
		custom_tooltip = mhf_events.5_3_b_d
		ai_chance = { base = 50 }
		# 옵션 효과 작성
		add_global_variable ={
			name = federation_support
			add = 1
		}
		scope:uk_scope = {
           add_modifier = {
			   name = light_diplomacy_fed
			   days = 3650
		}}
	}
	option = {
		name = mhf_events.5_3.c
		custom_tooltip = mhf_events.5_3_c_d
		ai_chance = { base = 0 }
		# 옵션 효과 작성
		add_global_variable ={
			name = federation_support
			value = 0
		}
		scope:uk_scope = {

		}
	}
}
mhf_events.9 = {
	type = country_event
	placement = root

	title = mhf_events.5_4.t
	desc = mhf_events.5_4.d

	event_image = {
		video = "ep1_transfer_of_authority"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_scales.dds"


	duration = 1
	immediate = {
		c:GBR = {
			save_scope_as = uk_scope
		}
	}

	option = {
		name = mhf_events.5_4.a
		custom_tooltip = mhf_events.5_4_a_d
		default_option = yes
		ai_chance = { base = 50 }
		# 옵션 효과 작성
		change_global_variable= {
			name = federation_support
			add = 2
		}
		scope:uk_scope = {
           add_modifier = {
			   name = heavy_military_fed
			   days = 3650
		}}
	}
	option = {
		name = mhf_events.5_4.b
		custom_tooltip = mhf_events.5_4_b_d
		ai_chance = { base = 50 }
		# 옵션 효과 작성
		add_global_variable ={
			name = federation_support
			add = 1
		}
		scope:uk_scope = {
           add_modifier = {
			   name = light_military_fed
			   days = 3650
		}}
	}
	option = {
		name = mhf_events.5_4.c
		custom_tooltip = mhf_events.5_4_c_d
		ai_chance = { base = 0 }
		add_global_variable ={
			name = federation_support
			value = 0
		}
		scope:uk_scope = {

		}
	}
}
mhf_events.10 = {
	type = country_event
	placement = root

	title = mhf_events.5_5.t
	desc = mhf_events.5_5.d

	event_image = {
		video = "ip2_cross_cultural_festival"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_scales.dds"


	duration = 1
	immediate = {
		c:GBR = {
			save_scope_as = uk_scope
		}
	}

	option = {
		name = mhf_events.5_5.a
		custom_tooltip = mhf_events.5_5_a_d
		default_option = yes
		ai_chance = { base = 50 }
		change_global_variable= {
			name = federation_support
			add = 2
		}
		if = {
			limit = {
				has_global_variable = federation_support
				global_var:federation_support >= 7
			}
			trigger_event = { id = mhf_events.11 }
		}
		else_if = {
			limit = {
				has_global_variable = federation_support
				global_var:federation_support < 7
			}
			trigger_event = { id = mhf_events.12 }
		}
	}
	option = {
		name = mhf_events.5_5.b
		custom_tooltip = mhf_events.5_5_b_d
		ai_chance = { base = 50 }
		add_global_variable ={
			name = federation_support
			add = 1
		}
		scope:uk_scope = {
			activate_law = law_type:racial_segregation
		}
		if = {
			limit = {
				has_global_variable = federation_support
				global_var:federation_support >= 7
			}
			trigger_event = { id = mhf_events.11 }
		}
		else_if = {
			limit = {
				has_global_variable = federation_support
				global_var:federation_support < 7
			}
			trigger_event = { id = mhf_events.12 }
		}
	}
	option = {
		name = mhf_events.5_5.c
		custom_tooltip = mhf_events.5_5_c_d
		ai_chance = { base = 0 }
		scope:uk_scope = {
			activate_law = law_type:law_multicultural	
		}
		add_global_variable ={
			name = federation_support
			value = 0
		}
		if = {
			limit = {
				has_global_variable = federation_support
				global_var:federation_support >= 7
			}
			trigger_event = { id = mhf_events.11 }
		}
		else_if = {
			limit = {
				has_global_variable = federation_support
				global_var:federation_support < 7
			}
			trigger_event = { id = mhf_events.12 }
		}
	}
}

mhf_events.11 = {
	type = country_event
	placement = root

	title = mhf_events.5_done.t
	desc = mhf_events.5_done.d
	flavor = mhf_events.5_done.f
	event_image = {
		video = "ep1_power_blocs"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_scales.dds"
	option = {
		name = mhf_events.5_done.a
		default_option = yes
		ai_chance = {
			base = 100
		}

		# 옵션 효과 작성
		every_subject_or_below = {
			root = {
				annex = prev
			}
		}
	}
}

mhf_events.12 = {
	type = country_event
	placement = root

	title = mhf_events.5_fail.t
	desc = mhf_events.5_fail.d

	event_image = {
		video = "ip3_police_raid"
	}
	on_created_soundeffect = "event:/SFX/UI/Alerts/event_appear"
	on_opened_soundeffect = "event:/SFX/Events/misc/1Character_Banner"

	icon = "gfx/interface/icons/event_icons/event_scales.dds"

	option = {
		name = mhf_events.5_fail.a
		default_option = yes
		ai_chance = {
			base = 100
		}
		# 옵션 효과 작성
	}
}